{"version":3,"sources":["cambiarDivisa.js"],"names":["currencySelect","document","getElementById","tasasDeCambioDiv","tasasDeCambio","JSON","parse","getAttribute","USD","divisasPermitidas","tasasFiltradas","renderizarOpcionesDivisas","innerHTML","Object","keys","forEach","codigoDivisa","option","createElement","value","textContent","appendChild","guardarDivisaYValor","divisaSeleccionada","valorDivisa","localStorage","setItem","console","log","location","reload","codigo","addEventListener","divisaGuardada","getItem"],"mappings":"AAGA,MAAMA,eAAiBC,SAASC,eAAe,mBACzCC,iBAAmBF,SAASC,eAAe,mBAG3CE,cAAgBC,KAAKC,MAAMH,iBAAiBI,aAAa,eAG1DH,cAAcI,MACfJ,cAAcI,IAAM,GAIxB,MAAMC,kBAAoB,CACtB,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MACxD,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAI/CC,eAAiB,GAQvB,SAASC,4BAELX,eAAeY,UAAY,GAG3BC,OAAOC,KAAKJ,gBAAgBK,QAAQC,IAChC,MAAMC,EAAShB,SAASiB,cAAc,UACtCD,EAAOE,MAAQH,EACfC,EAAOG,YAAcJ,EACrBhB,eAAeqB,YAAYJ,KAKnC,SAASK,sBACL,MAAMC,EAAqBvB,eAAemB,MACpCK,EAAcd,eAAea,GAEnCE,aAAaC,QAAQ,SAAUH,GAC/BE,aAAaC,QAAQ,cAAeF,GAEpCG,QAAQC,IAAI,wBAAwBL,aAA8BC,KAElEK,SAASC,SA9BbrB,kBAAkBM,QAAQgB,IAClB3B,cAAc2B,KACdrB,eAAeqB,GAAU3B,cAAc2B,MAgC/C/B,eAAegC,iBAAiB,SAAUV,qBAG1CX,4BAGA,MAAMsB,eAAiBR,aAAaS,QAAQ,UACxCD,gBAAkBvB,eAAeuB,kBACjCjC,eAAemB,MAAQc","file":"cambiarDivisa.js","sourcesContent":["// Obtener el select de divisas y el div que contiene las tasas de cambio\r\n\r\n\r\nconst currencySelect = document.getElementById('currency-select');\r\nconst tasasDeCambioDiv = document.getElementById('tasas-de-cambio');\r\n\r\n// Parsear las tasas de cambio desde el atributo 'data-tasas' en formato JSON\r\nconst tasasDeCambio = JSON.parse(tasasDeCambioDiv.getAttribute('data-tasas'));\r\n\r\n// Asegurarse de que USD esté presente\r\nif (!tasasDeCambio.USD) {\r\n    tasasDeCambio.USD = 1;\r\n}\r\n\r\n// Lista de códigos de divisas LATAM + USD\r\nconst divisasPermitidas = [\r\n    'USD', 'ARS', 'BOB', 'BRL', 'CLP', 'COP', 'CRC', 'DOP', 'GTQ',\r\n    'HNL', 'MXN', 'NIO', 'PAB', 'PEN', 'PYG', 'UYU', 'VES'\r\n];\r\n\r\n// Filtrar solo las divisas LATAM + USD\r\nconst tasasFiltradas = {};\r\ndivisasPermitidas.forEach(codigo => {\r\n    if (tasasDeCambio[codigo]) {\r\n        tasasFiltradas[codigo] = tasasDeCambio[codigo];\r\n    }\r\n});\r\n\r\n// Función para renderizar las opciones de divisas en el selector\r\nfunction renderizarOpcionesDivisas() {\r\n    // Limpiar las opciones actuales\r\n    currencySelect.innerHTML = '';\r\n\r\n    // Agregar solo las divisas permitidas\r\n    Object.keys(tasasFiltradas).forEach(codigoDivisa => {\r\n        const option = document.createElement('option');\r\n        option.value = codigoDivisa;\r\n        option.textContent = codigoDivisa;\r\n        currencySelect.appendChild(option);\r\n    });\r\n}\r\n\r\n// Función para guardar la divisa seleccionada y su valor en localStorage\r\nfunction guardarDivisaYValor() {\r\n    const divisaSeleccionada = currencySelect.value;\r\n    const valorDivisa = tasasFiltradas[divisaSeleccionada];\r\n\r\n    localStorage.setItem('divisa', divisaSeleccionada);\r\n    localStorage.setItem('valorDivisa', valorDivisa);\r\n\r\n    console.log(`Divisa seleccionada: ${divisaSeleccionada}, Valor: ${valorDivisa}`);\r\n    // Refrescar la página para aplicar los cambios\r\n    location.reload();\r\n}\r\n\r\n// Evento cuando se cambia la divisa seleccionada\r\ncurrencySelect.addEventListener('change', guardarDivisaYValor);\r\n\r\n// Renderizar opciones al cargar\r\nrenderizarOpcionesDivisas();\r\n\r\n// Restaurar selección previa si existe\r\nconst divisaGuardada = localStorage.getItem('divisa');\r\nif (divisaGuardada && tasasFiltradas[divisaGuardada]) {\r\n    currencySelect.value = divisaGuardada;\r\n}\r\n"]}