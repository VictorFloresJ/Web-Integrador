function limpiarPrecio(o){let e=o.replace("$","").trim();return e=e.replace(/,/g,""),parseFloat(e)}function obtenerCookies(){const o=document.cookie.split(";"),e=document.querySelector(".compras_productos");let t=0;o.forEach((function(o){let[n,a]=o.split("=");if(n=n.trim(),n.startsWith("producto_")){const o=JSON.parse(decodeURIComponent(a));console.table(o),t+=limpiarPrecio(o.precio);const n=document.createElement("div");n.classList.add("compras_videojuego","entrar-izquierda"),n.id=`${o.id}_${o.plataforma}`,n.innerHTML=`\n                <div class="videojuego_imagen">\n                    <img src="images/${o.imagen}" alt="videojuego imagen">\n                </div>\n                <div class="videojuego_contenido">\n                    <h1 class="videojuego-titulo">${o.titulo}</h1>\n                    <p class="videojuego-precio">Precio: ${o.precio}</p>\n                    <p class="videojuego-plataforma">${o.plataforma}</p>\n                    <label for="cantidad_${o.id}_${o.plataforma}" class="videojuego-cantidad">Cantidad</label>\n                    <select name="cantidad_${o.id}_${o.plataforma}">\n                        <option value="1" selected>1</option>\n                        <option value="2">2</option>\n                        <option value="3">3</option>\n                        <option value="4">4</option>\n                        <option value="5">5</option>\n                        <option value="6">6</option>\n                        <option value="7">7</option>\n                        <option value="8">8</option>\n                        <option value="9">9</option>\n                    </select>\n                    <button \n                        class="boton-amarillo videojuego-eliminar"\n                        data-id="${o.id}_${o.plataforma}"\n                        onclick="eliminarDeLCarrito(this)">\n                        Eliminar del carrito\n                    </button>\n                </div>\n            `,e.appendChild(n)}})),mostrarTotales(t)}function mostrarTotales(o){fetch("calcular_iva.php?precio="+o).then(o=>o.json()).then(e=>{const t=document.querySelector(".totales_contenedor");t&&(t.innerHTML=`\n                <p>Subtotal: $${o.toFixed(2)}</p>\n                <p>IVA (${(100*e.tasa_iva).toFixed(0)}%): $${e.iva.toFixed(2)}</p>\n                <p><strong>Total: $${e.total.toFixed(2)}</strong></p>\n                <p><small>Pa√≠s detectado: ${e.pais}</small></p>\n            `)}).catch(o=>{console.error("Error al calcular IVA:",o)})}document.addEventListener("DOMContentLoaded",obtenerCookies);
//# sourceMappingURL=carrito.js.map
